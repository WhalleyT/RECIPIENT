Jul-27 15:32:25.034 [main] DEBUG nextflow.cli.Launcher - $> nextflow run pipeline.nf -profile slurm,singularity
Jul-27 15:32:25.232 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 19.07.0
Jul-27 15:32:25.244 [main] INFO  nextflow.cli.CmdRun - Launching `pipeline.nf` [suspicious_ardinghelli] - revision: edf653c333
Jul-27 15:32:25.254 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /scratch/c.c1656075/pangenome_vaccine/nextflow.config
Jul-27 15:32:25.255 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /scratch/c.c1656075/pangenome_vaccine/nextflow.config
Jul-27 15:32:25.276 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `slurm,singularity`
Jul-27 15:32:25.652 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [slurm, standard, singularity]
Jul-27 15:32:25.688 [main] DEBUG nextflow.Session - Session uuid: ed2fce51-3569-4824-bdd7-bba519a4cd48
Jul-27 15:32:25.689 [main] DEBUG nextflow.Session - Run name: suspicious_ardinghelli
Jul-27 15:32:25.690 [main] DEBUG nextflow.Session - Executor pool size: 40
Jul-27 15:32:25.725 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 19.07.0 build 5106
  Created: 27-07-2019 13:22 UTC (14:22 BST)
  System: Linux 3.10.0-957.12.2.el7.x86_64
  Runtime: Groovy 2.5.6 on OpenJDK 64-Bit Server VM 11.0.5+10
  Encoding: UTF-8 (ANSI_X3.4-1968)
  Process: 42000@cl2 [10.212.1.82]
  CPUs: 40 - Mem: 754.2 GB (26.1 GB) - Swap: 0 (0)
Jul-27 15:32:25.756 [main] DEBUG nextflow.Session - Work-dir: /scratch/c.c1656075/pangenome_vaccine/work [lustre]
Jul-27 15:32:25.757 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /scratch/c.c1656075/pangenome_vaccine/bin
Jul-27 15:32:25.889 [main] DEBUG nextflow.Session - Session start invoked
Jul-27 15:32:26.158 [main] WARN  nextflow.script.ScriptRunner - Nextflow version 19.07.0 does not match workflow required version: 19.01 -- Execution will continue, but things may break!
Jul-27 15:32:26.159 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul-27 15:32:26.203 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: covid/; pattern: *.fasta; options: [:]
Jul-27 15:32:26.361 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.362 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.370 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Jul-27 15:32:26.381 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 20; pollInterval: 5s; dumpInterval: 5m 
Jul-27 15:32:26.387 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Jul-27 15:32:26.417 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > prokka -- maxForks: 40
Jul-27 15:32:26.479 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:multithreaded` matches label `multithreaded` for process with name roary
Jul-27 15:32:26.484 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.485 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.489 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > roary -- maxForks: 40
Jul-27 15:32:26.554 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:multithreaded` matches label `multithreaded` for process with name mash
Jul-27 15:32:26.556 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.557 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.558 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mash -- maxForks: 40
Jul-27 15:32:26.566 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.567 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.569 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > kraken -- maxForks: 40
Jul-27 15:32:26.574 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.574 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.575 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > core_genes -- maxForks: 40
Jul-27 15:32:26.586 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:multithreaded` matches label `multithreaded` for process with name tajima
Jul-27 15:32:26.587 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.587 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.588 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > tajima -- maxForks: 40
Jul-27 15:32:26.593 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.593 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.620 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > translate_reference -- maxForks: 40
Jul-27 15:32:26.651 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.651 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.654 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > split_fasta -- maxForks: 40
Jul-27 15:32:26.670 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.671 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.677 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [0]
Jul-27 15:32:26.698 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mhc_i_binding -- maxForks: 40
Jul-27 15:32:26.704 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:32:26.705 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:32:26.706 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [0]
Jul-27 15:32:26.707 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mhc_ii_binding -- maxForks: 40
Jul-27 15:32:26.716 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Jul-27 15:32:26.716 [main] DEBUG nextflow.Session - Session await
Jul-27 15:32:27.481 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (17) > jobId: 17099482; workDir: /scratch/c.c1656075/pangenome_vaccine/work/db/4b435e7693ff8226b8ad71726d66f9
Jul-27 15:32:27.487 [Task submitter] INFO  nextflow.Session - [db/4b435e] Submitted process > prokka (17)
Jul-27 15:32:27.803 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (35) > jobId: 17099483; workDir: /scratch/c.c1656075/pangenome_vaccine/work/96/a3664bc0be4bd015ce984c3cffcda1
Jul-27 15:32:27.804 [Task submitter] INFO  nextflow.Session - [96/a3664b] Submitted process > kraken (35)
Jul-27 15:32:28.116 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (10) > jobId: 17099484; workDir: /scratch/c.c1656075/pangenome_vaccine/work/9f/f8326003d774a2bb05ce2e55515386
Jul-27 15:32:28.117 [Task submitter] INFO  nextflow.Session - [9f/f83260] Submitted process > prokka (10)
Jul-27 15:32:28.680 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (13) > jobId: 17099486; workDir: /scratch/c.c1656075/pangenome_vaccine/work/2c/f2d58f0d2ff933e63694e6d5e67760
Jul-27 15:32:28.682 [Task submitter] INFO  nextflow.Session - [2c/f2d58f] Submitted process > prokka (13)
Jul-27 15:32:28.990 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (36) > jobId: 17099487; workDir: /scratch/c.c1656075/pangenome_vaccine/work/32/23772ace8260ac3e2e7b9a05c063ed
Jul-27 15:32:28.995 [Task submitter] INFO  nextflow.Session - [32/23772a] Submitted process > prokka (36)
Jul-27 15:32:29.288 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (31) > jobId: 17099488; workDir: /scratch/c.c1656075/pangenome_vaccine/work/b9/1d05d8a87a0d7ed7717ba31d00b214
Jul-27 15:32:29.289 [Task submitter] INFO  nextflow.Session - [b9/1d05d8] Submitted process > prokka (31)
Jul-27 15:32:29.598 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (33) > jobId: 17099489; workDir: /scratch/c.c1656075/pangenome_vaccine/work/66/03638a7bfa49b864995c695162a73c
Jul-27 15:32:29.599 [Task submitter] INFO  nextflow.Session - [66/03638a] Submitted process > kraken (33)
Jul-27 15:32:29.910 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (27) > jobId: 17099490; workDir: /scratch/c.c1656075/pangenome_vaccine/work/09/bb1bef24e3a59fe96db722d1d4addf
Jul-27 15:32:29.911 [Task submitter] INFO  nextflow.Session - [09/bb1bef] Submitted process > kraken (27)
Jul-27 15:32:30.217 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (6) > jobId: 17099491; workDir: /scratch/c.c1656075/pangenome_vaccine/work/a6/2294c6899e401108120f14d9c0d928
Jul-27 15:32:30.218 [Task submitter] INFO  nextflow.Session - [a6/2294c6] Submitted process > prokka (6)
Jul-27 15:32:30.513 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (39) > jobId: 17099492; workDir: /scratch/c.c1656075/pangenome_vaccine/work/14/7d7d5a10c06090c6bba6b891ed7ff5
Jul-27 15:32:30.514 [Task submitter] INFO  nextflow.Session - [14/7d7d5a] Submitted process > prokka (39)
Jul-27 15:32:30.884 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (6) > jobId: 17099493; workDir: /scratch/c.c1656075/pangenome_vaccine/work/71/c7f3fbced0e3370af7c80c8e9d536b
Jul-27 15:32:30.885 [Task submitter] INFO  nextflow.Session - [71/c7f3fb] Submitted process > kraken (6)
Jul-27 15:32:31.224 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (34) > jobId: 17099494; workDir: /scratch/c.c1656075/pangenome_vaccine/work/c4/4430a04a6755136c31a339102701cd
Jul-27 15:32:31.225 [Task submitter] INFO  nextflow.Session - [c4/4430a0] Submitted process > prokka (34)
Jul-27 15:32:31.540 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (20) > jobId: 17099495; workDir: /scratch/c.c1656075/pangenome_vaccine/work/5c/fa9a561f00ece0078c8ca1fe0ef42a
Jul-27 15:32:31.540 [Task submitter] INFO  nextflow.Session - [5c/fa9a56] Submitted process > kraken (20)
Jul-27 15:32:31.877 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (13) > jobId: 17099496; workDir: /scratch/c.c1656075/pangenome_vaccine/work/7d/82b5a2bc4e8e028f598e4167011965
Jul-27 15:32:31.877 [Task submitter] INFO  nextflow.Session - [7d/82b5a2] Submitted process > kraken (13)
Jul-27 15:32:32.394 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (19) > jobId: 17099498; workDir: /scratch/c.c1656075/pangenome_vaccine/work/69/5bace0e6a592df7d8332bee7288d23
Jul-27 15:32:32.395 [Task submitter] INFO  nextflow.Session - [69/5bace0] Submitted process > kraken (19)
Jul-27 15:32:32.695 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (17) > jobId: 17099499; workDir: /scratch/c.c1656075/pangenome_vaccine/work/2d/29a046c3b087ed65f350850aa2b229
Jul-27 15:32:32.696 [Task submitter] INFO  nextflow.Session - [2d/29a046] Submitted process > kraken (17)
Jul-27 15:32:33.001 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (11) > jobId: 17099500; workDir: /scratch/c.c1656075/pangenome_vaccine/work/fe/edf5fe10e7cfb612d4fa3c7561506d
Jul-27 15:32:33.001 [Task submitter] INFO  nextflow.Session - [fe/edf5fe] Submitted process > prokka (11)
Jul-27 15:32:33.320 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (30) > jobId: 17099501; workDir: /scratch/c.c1656075/pangenome_vaccine/work/01/35ce5845630682a53041dcff9cef2f
Jul-27 15:32:33.321 [Task submitter] INFO  nextflow.Session - [01/35ce58] Submitted process > prokka (30)
Jul-27 15:32:33.627 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (23) > jobId: 17099502; workDir: /scratch/c.c1656075/pangenome_vaccine/work/c9/24cf507d0b1492c5248ed27e761011
Jul-27 15:32:33.628 [Task submitter] INFO  nextflow.Session - [c9/24cf50] Submitted process > prokka (23)
Jul-27 15:32:33.912 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (9) > jobId: 17099503; workDir: /scratch/c.c1656075/pangenome_vaccine/work/44/7abddcc65a043b5817376ef11fb7e2
Jul-27 15:32:33.912 [Task submitter] INFO  nextflow.Session - [44/7abddc] Submitted process > prokka (9)
Jul-27 15:32:56.404 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 17099483; id: 75; name: kraken (35); status: COMPLETED; exit: 2; error: -; workDir: /scratch/c.c1656075/pangenome_vaccine/work/96/a3664bc0be4bd015ce984c3cffcda1 started: 1595860376398; exited: 2020-07-27T14:32:53Z; ]
Jul-27 15:32:56.427 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'kraken (35)'

Caused by:
  Process `kraken (35)` terminated with an error exit status (2)

Command executed:

  kraken2 --db minikraken2 --report CAMB-7C5A6_2020_kraken.report CAMB-7C5A6_2020.fasta

Command exit status:
  2

Command output:
  (empty)

Command error:
  kraken2: unable to find minikraken2 in $KRAKEN2_DB_PATH (undefined)

Work dir:
  /scratch/c.c1656075/pangenome_vaccine/work/96/a3664bc0be4bd015ce984c3cffcda1

Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
Jul-27 15:32:56.435 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `kraken (35)` terminated with an error exit status (2)
Jul-27 15:32:56.452 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] roary
  status=ACTIVE
  port 0: (value) OPEN  ; channel: gff
  port 1: (cntrl) -     ; channel: $

[process] mash
  status=ACTIVE
  port 0: (value) OPEN  ; channel: aa_fastas
  port 1: (cntrl) -     ; channel: $

[process] core_genes
  status=ACTIVE
  port 0: (value) OPEN  ; channel: presence
  port 1: (cntrl) -     ; channel: $

[process] tajima
  status=ACTIVE
  port 0: (value) OPEN  ; channel: tajima_in
  port 1: (cntrl) -     ; channel: $

[process] translate_reference
  status=ACTIVE
  port 0: (value) OPEN  ; channel: reference_dna
  port 1: (cntrl) -     ; channel: $

[process] split_fasta
  status=ACTIVE
  port 0: (value) OPEN  ; channel: ref
  port 1: (cntrl) -     ; channel: $

[process] mhc_i_binding
  status=ACTIVE
  port 0: (value) OPEN  ; channel: __$eachinparam<0>
  port 1: (cntrl) -     ; channel: $

[process] mhc_ii_binding
  status=ACTIVE
  port 0: (value) OPEN  ; channel: __$eachinparam<0>
  port 1: (cntrl) -     ; channel: $

Jul-27 15:32:56.455 [main] DEBUG nextflow.Session - Session await > all process finished
Jul-27 15:32:56.456 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul-27 15:32:56.461 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (19)
Jul-27 15:32:56.470 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 17099489; id: 73; name: kraken (33); status: COMPLETED; exit: 2; error: -; workDir: /scratch/c.c1656075/pangenome_vaccine/work/66/03638a7bfa49b864995c695162a73c started: 1595860376463; exited: 2020-07-27T14:32:54Z; ]
Jul-27 15:32:56.479 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 17099490; id: 67; name: kraken (27); status: COMPLETED; exit: 2; error: -; workDir: /scratch/c.c1656075/pangenome_vaccine/work/09/bb1bef24e3a59fe96db722d1d4addf started: 1595860376472; exited: 2020-07-27T14:32:54Z; ]
Jul-27 15:32:57.743 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (15) > jobId: 17099547; workDir: /scratch/c.c1656075/pangenome_vaccine/work/0e/397b7b38cef66f94a1d747fcf0ad54
Jul-27 15:32:57.744 [Task submitter] INFO  nextflow.Session - [0e/397b7b] Submitted process > prokka (15)
Jul-27 15:32:57.746 [main] DEBUG nextflow.trace.StatsObserver - Workflow completed > WorkflowStats[succeedCount=0; failedCount=22; ignoredCount=0; cachedCount=0; succeedDuration=0ms; failedDuration=17ms; cachedDuration=0ms]
Jul-27 15:32:57.852 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Jul-27 15:32:57.865 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
