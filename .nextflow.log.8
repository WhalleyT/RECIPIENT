Jul-27 15:19:17.948 [main] DEBUG nextflow.cli.Launcher - $> nextflow run pipeline.nf -profile slurm,singularity
Jul-27 15:19:18.072 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 19.07.0
Jul-27 15:19:18.097 [main] INFO  nextflow.cli.CmdRun - Launching `pipeline.nf` [modest_mandelbrot] - revision: 1c182378ad
Jul-27 15:19:18.111 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /scratch/c.c1656075/pangenome_vaccine/nextflow.config
Jul-27 15:19:18.113 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /scratch/c.c1656075/pangenome_vaccine/nextflow.config
Jul-27 15:19:18.140 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `slurm,singularity`
Jul-27 15:19:18.636 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [slurm, standard, singularity]
Jul-27 15:19:18.696 [main] DEBUG nextflow.Session - Session uuid: 7361f8fa-ee32-4220-b166-0a06c920cb22
Jul-27 15:19:18.697 [main] DEBUG nextflow.Session - Run name: modest_mandelbrot
Jul-27 15:19:18.698 [main] DEBUG nextflow.Session - Executor pool size: 40
Jul-27 15:19:18.739 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 19.07.0 build 5106
  Created: 27-07-2019 13:22 UTC (14:22 BST)
  System: Linux 3.10.0-957.12.2.el7.x86_64
  Runtime: Groovy 2.5.6 on OpenJDK 64-Bit Server VM 11.0.5+10
  Encoding: UTF-8 (ANSI_X3.4-1968)
  Process: 394403@cl2 [10.212.1.82]
  CPUs: 40 - Mem: 754.2 GB (26.5 GB) - Swap: 0 (0)
Jul-27 15:19:18.772 [main] DEBUG nextflow.Session - Work-dir: /scratch/c.c1656075/pangenome_vaccine/work [lustre]
Jul-27 15:19:18.773 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /scratch/c.c1656075/pangenome_vaccine/bin
Jul-27 15:19:18.927 [main] DEBUG nextflow.Session - Session start invoked
Jul-27 15:19:19.220 [main] WARN  nextflow.script.ScriptRunner - Nextflow version 19.07.0 does not match workflow required version: 19.01 -- Execution will continue, but things may break!
Jul-27 15:19:19.221 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul-27 15:19:19.302 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: covid/; pattern: *.fasta; options: [:]
Jul-27 15:19:19.451 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.451 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.472 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Jul-27 15:19:19.480 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 20; pollInterval: 5s; dumpInterval: 5m 
Jul-27 15:19:19.486 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Jul-27 15:19:19.516 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > prokka -- maxForks: 40
Jul-27 15:19:19.612 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:multithreaded` matches label `multithreaded` for process with name roary
Jul-27 15:19:19.637 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.638 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.642 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > roary -- maxForks: 40
Jul-27 15:19:19.675 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:multithreaded` matches label `multithreaded` for process with name mash
Jul-27 15:19:19.679 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.680 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.681 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mash -- maxForks: 40
Jul-27 15:19:19.688 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.688 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.692 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > kraken -- maxForks: 40
Jul-27 15:19:19.697 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.698 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.699 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > core_genes -- maxForks: 40
Jul-27 15:19:19.715 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:multithreaded` matches label `multithreaded` for process with name tajima
Jul-27 15:19:19.717 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.717 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.732 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > tajima -- maxForks: 40
Jul-27 15:19:19.753 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.753 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.755 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > translate_reference -- maxForks: 40
Jul-27 15:19:19.782 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.782 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.786 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > split_fasta -- maxForks: 40
Jul-27 15:19:19.813 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.814 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.824 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [0]
Jul-27 15:19:19.837 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mhc_i_binding -- maxForks: 40
Jul-27 15:19:19.862 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-27 15:19:19.863 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-27 15:19:19.864 [main] DEBUG nextflow.processor.TaskProcessor - Creating *combiner* operator for each param(s) at index(es): [0]
Jul-27 15:19:19.867 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mhc_ii_binding -- maxForks: 40
Jul-27 15:19:19.875 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Jul-27 15:19:19.876 [main] DEBUG nextflow.Session - Session await
Jul-27 15:19:20.838 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (12) > jobId: 17098926; workDir: /scratch/c.c1656075/pangenome_vaccine/work/89/7d864e165cb483113e553a95270b1b
Jul-27 15:19:20.843 [Task submitter] INFO  nextflow.Session - [89/7d864e] Submitted process > prokka (12)
Jul-27 15:19:21.164 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (9) > jobId: 17098927; workDir: /scratch/c.c1656075/pangenome_vaccine/work/0e/ac4f5b40364e7ef747b72aa3742993
Jul-27 15:19:21.165 [Task submitter] INFO  nextflow.Session - [0e/ac4f5b] Submitted process > prokka (9)
Jul-27 15:19:21.467 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (15) > jobId: 17098928; workDir: /scratch/c.c1656075/pangenome_vaccine/work/2e/32c0bc7b63aa9d72b8d2598f572004
Jul-27 15:19:21.468 [Task submitter] INFO  nextflow.Session - [2e/32c0bc] Submitted process > kraken (15)
Jul-27 15:19:21.832 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (9) > jobId: 17098929; workDir: /scratch/c.c1656075/pangenome_vaccine/work/f9/2611897e11773833a5600fe5782807
Jul-27 15:19:21.833 [Task submitter] INFO  nextflow.Session - [f9/261189] Submitted process > kraken (9)
Jul-27 15:19:22.151 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (20) > jobId: 17098930; workDir: /scratch/c.c1656075/pangenome_vaccine/work/08/b9d5012d46fa27d54b3500a11867e1
Jul-27 15:19:22.153 [Task submitter] INFO  nextflow.Session - [08/b9d501] Submitted process > prokka (20)
Jul-27 15:19:22.509 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (13) > jobId: 17098931; workDir: /scratch/c.c1656075/pangenome_vaccine/work/6a/80a43703e003d117f6ab2c292716fe
Jul-27 15:19:22.510 [Task submitter] INFO  nextflow.Session - [6a/80a437] Submitted process > prokka (13)
Jul-27 15:19:22.818 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (14) > jobId: 17098932; workDir: /scratch/c.c1656075/pangenome_vaccine/work/a3/1ba63d71cb0d08a9fc07b4e5d39c60
Jul-27 15:19:22.819 [Task submitter] INFO  nextflow.Session - [a3/1ba63d] Submitted process > prokka (14)
Jul-27 15:19:23.183 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (16) > jobId: 17098933; workDir: /scratch/c.c1656075/pangenome_vaccine/work/6a/3c532b0b4c3116896ad572ca662f3d
Jul-27 15:19:23.184 [Task submitter] INFO  nextflow.Session - [6a/3c532b] Submitted process > prokka (16)
Jul-27 15:19:23.753 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (3) > jobId: 17098935; workDir: /scratch/c.c1656075/pangenome_vaccine/work/9b/3150a148a117cb9d91dbd8e2cc0706
Jul-27 15:19:23.753 [Task submitter] INFO  nextflow.Session - [9b/3150a1] Submitted process > kraken (3)
Jul-27 15:19:24.051 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (2) > jobId: 17098936; workDir: /scratch/c.c1656075/pangenome_vaccine/work/1e/091a5412e5e0ff9f26a8501a2612b1
Jul-27 15:19:24.056 [Task submitter] INFO  nextflow.Session - [1e/091a54] Submitted process > prokka (2)
Jul-27 15:19:24.434 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (39) > jobId: 17098937; workDir: /scratch/c.c1656075/pangenome_vaccine/work/bb/a78c4748942e525ff55fa7345c3321
Jul-27 15:19:24.435 [Task submitter] INFO  nextflow.Session - [bb/a78c47] Submitted process > prokka (39)
Jul-27 15:19:24.723 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (32) > jobId: 17098938; workDir: /scratch/c.c1656075/pangenome_vaccine/work/93/10580d9a040afaa0215fb20d81c96e
Jul-27 15:19:24.724 [Task submitter] INFO  nextflow.Session - [93/10580d] Submitted process > prokka (32)
Jul-27 15:19:25.006 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (33) > jobId: 17098939; workDir: /scratch/c.c1656075/pangenome_vaccine/work/cb/5a4ebe759855590cd4b0c979737b85
Jul-27 15:19:25.006 [Task submitter] INFO  nextflow.Session - [cb/5a4ebe] Submitted process > kraken (33)
Jul-27 15:19:25.284 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (30) > jobId: 17098940; workDir: /scratch/c.c1656075/pangenome_vaccine/work/1b/f5078c657ebee3a98fa1599f83f9ca
Jul-27 15:19:25.285 [Task submitter] INFO  nextflow.Session - [1b/f5078c] Submitted process > kraken (30)
Jul-27 15:19:25.567 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (18) > jobId: 17098941; workDir: /scratch/c.c1656075/pangenome_vaccine/work/ed/fa7ee99f82394910b42eb6cc1dda2e
Jul-27 15:19:25.568 [Task submitter] INFO  nextflow.Session - [ed/fa7ee9] Submitted process > prokka (18)
Jul-27 15:19:25.865 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (29) > jobId: 17098942; workDir: /scratch/c.c1656075/pangenome_vaccine/work/0e/f93524d3d30e35663a73609e5dbdfe
Jul-27 15:19:25.866 [Task submitter] INFO  nextflow.Session - [0e/f93524] Submitted process > prokka (29)
Jul-27 15:19:26.215 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (5) > jobId: 17098943; workDir: /scratch/c.c1656075/pangenome_vaccine/work/bf/1ec752e0c57e6f02edee83f2582121
Jul-27 15:19:26.215 [Task submitter] INFO  nextflow.Session - [bf/1ec752] Submitted process > kraken (5)
Jul-27 15:19:26.511 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (34) > jobId: 17098944; workDir: /scratch/c.c1656075/pangenome_vaccine/work/a0/279c3a100ccbeee15a77670b61f188
Jul-27 15:19:26.511 [Task submitter] INFO  nextflow.Session - [a0/279c3a] Submitted process > kraken (34)
Jul-27 15:19:26.815 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (31) > jobId: 17098945; workDir: /scratch/c.c1656075/pangenome_vaccine/work/5b/c96f6b4deb2f2cf1cdb7ec1bdd10a2
Jul-27 15:19:26.815 [Task submitter] INFO  nextflow.Session - [5b/c96f6b] Submitted process > prokka (31)
Jul-27 15:19:27.115 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process kraken (14) > jobId: 17098946; workDir: /scratch/c.c1656075/pangenome_vaccine/work/60/f93d2e87eb22a2fdace6dc81969c5b
Jul-27 15:19:27.116 [Task submitter] INFO  nextflow.Session - [60/f93d2e] Submitted process > kraken (14)
Jul-27 15:19:39.505 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 17098928; id: 55; name: kraken (15); status: COMPLETED; exit: 2; error: -; workDir: /scratch/c.c1656075/pangenome_vaccine/work/2e/32c0bc7b63aa9d72b8d2598f572004 started: 1595859579498; exited: 2020-07-27T14:19:35Z; ]
Jul-27 15:19:39.531 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'kraken (15)'

Caused by:
  Process `kraken (15)` terminated with an error exit status (2)

Command executed:

  kraken2 --db ~/minikraken2 --report BC_20730616_2020_kraken.report BC_20730616_2020.fasta

Command exit status:
  2

Command output:
  (empty)

Command error:
  kraken2: database ("/home/c.c1656075/minikraken2") does not contain necessary file taxo.k2d

Work dir:
  /scratch/c.c1656075/pangenome_vaccine/work/2e/32c0bc7b63aa9d72b8d2598f572004

Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
Jul-27 15:19:39.542 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `kraken (15)` terminated with an error exit status (2)
Jul-27 15:19:39.562 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] roary
  status=ACTIVE
  port 0: (value) OPEN  ; channel: gff
  port 1: (cntrl) -     ; channel: $

[process] mash
  status=ACTIVE
  port 0: (value) OPEN  ; channel: aa_fastas
  port 1: (cntrl) -     ; channel: $

[process] core_genes
  status=ACTIVE
  port 0: (value) OPEN  ; channel: presence
  port 1: (cntrl) -     ; channel: $

[process] tajima
  status=ACTIVE
  port 0: (value) OPEN  ; channel: tajima_in
  port 1: (cntrl) -     ; channel: $

[process] translate_reference
  status=ACTIVE
  port 0: (value) OPEN  ; channel: reference_dna
  port 1: (cntrl) -     ; channel: $

[process] split_fasta
  status=ACTIVE
  port 0: (value) OPEN  ; channel: ref
  port 1: (cntrl) -     ; channel: $

[process] mhc_i_binding
  status=ACTIVE
  port 0: (value) OPEN  ; channel: __$eachinparam<0>
  port 1: (cntrl) -     ; channel: $

[process] mhc_ii_binding
  status=ACTIVE
  port 0: (value) OPEN  ; channel: __$eachinparam<0>
  port 1: (cntrl) -     ; channel: $

Jul-27 15:19:39.565 [main] DEBUG nextflow.Session - Session await > all process finished
Jul-27 15:19:39.567 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul-27 15:19:39.571 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 17098929; id: 49; name: kraken (9); status: COMPLETED; exit: 2; error: -; workDir: /scratch/c.c1656075/pangenome_vaccine/work/f9/2611897e11773833a5600fe5782807 started: 1595859579567; exited: 2020-07-27T14:19:35Z; ]
Jul-27 15:19:39.571 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (18)
Jul-27 15:19:39.798 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process prokka (26) > jobId: 17098988; workDir: /scratch/c.c1656075/pangenome_vaccine/work/f2/2a828fdd87d675efd6689aed094dce
Jul-27 15:19:39.799 [Task submitter] INFO  nextflow.Session - [f2/2a828f] Submitted process > prokka (26)
Jul-27 15:19:39.803 [main] DEBUG nextflow.trace.StatsObserver - Workflow completed > WorkflowStats[succeedCount=0; failedCount=20; ignoredCount=0; cachedCount=0; succeedDuration=0ms; failedDuration=7ms; cachedDuration=0ms]
Jul-27 15:19:39.966 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Jul-27 15:19:39.979 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
